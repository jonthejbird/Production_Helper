var source = new EventSource("/progress");
source.onmessage = function(event) {
  var data = JSON.parse(event.data);
  update_progress(data.progress);
};
function update_progress(x) {
  // Here you can write code to update the progress value based on your application logic
  var progress = x;
  // Get a reference to the progress bar element
  var progressBar = document.getElementById("progressbar");
  // Set the progress by updating the width of the progress bar element
  progressBar.style.width = progress + "%";
  // Update the aria-valuenow attribute to match the progress value
  progressBar.setAttribute("aria-valuenow", progress);
}
